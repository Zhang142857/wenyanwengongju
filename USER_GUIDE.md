# 文言文学习助手 - 用户指南

## 📖 项目简介

文言文学习助手是一款专为文言文学习设计的桌面应用，集成了文本导入、智能整理、AI辅助、自动出题等多项功能，帮助学习者高效掌握文言文知识。

## 🎯 核心功能

### 1. 📥 导入功能

#### 1.1 文本导入
- **支持格式**：纯文本、Word文档
- **智能分句**：自动识别文言文句子边界
- **层级管理**：库 → 集 → 文章 三级结构
- **批量导入**：支持一次导入多篇文章

#### 1.2 导入流程
1. 点击"导入"按钮
2. 选择目标库和集（或新建）
3. 粘贴或上传文本
4. 系统自动分句并保存

### 2. 🎨 整理功能

#### 2.1 思维导图整理
- **可视化编辑**：拖拽式思维导图界面
- **节点管理**：
  - 添加/删除/编辑节点
  - 节点颜色标记
  - 父子关系管理
- **关联句子**：为每个节点关联相关文言文句子
- **导出功能**：导出为图片或JSON格式

#### 2.2 整理模式
- **手动整理**：完全自主控制节点和关系
- **AI辅助整理**：AI自动生成思维导图结构
- **混合模式**：AI生成后手动调整

### 3. 🤖 AI辅助功能

#### 3.1 AI自动整理
- **智能分析**：分析文章内容和结构
- **自动生成**：生成思维导图节点和关系
- **实时预览**：查看AI生成的结果
- **一键应用**：直接应用或手动调整

#### 3.2 AI生成义项
- **自动识别**：识别句子中的重点字
- **批量生成**：批量生成字的义项解释
- **智能去重**：自动过滤重复义项
- **进度显示**：实时显示生成进度

#### 3.3 正则生成器
- **需求描述**：用自然语言描述正则需求
- **AI生成**：自动生成正则表达式
- **实时思考**：显示AI思考过程
- **在线测试**：即时测试正则表达式效果

### 4. 📝 管理功能

#### 4.1 义项管理
- **添加义项**：为字符添加义项解释
- **关联句子**：将义项关联到具体句子
- **批量编辑**：批量修改或删除义项
- **诊断工具**：检查义项库质量

#### 4.2 重点字管理
- **标记重点**：标记需要重点学习的字
- **优先级设置**：设置学习优先级
- **统计分析**：查看学习进度

#### 4.3 短句管理
- **提取短句**：从长句中提取短句
- **义项关联**：关联短句中的字义
- **分类管理**：按主题分类短句

### 5. 📋 自动出题功能

#### 5.1 题型选择
- **同一个字**：四个选项考察同一个字的不同义项
- **不同字**：每个选项考察不同的字

#### 5.2 答案类型
- **找不同**：找出意思不完全相同的一项
- **找相同**：找出意思都相同的一项

#### 5.3 配置选项
- **题目数量**：1-50题
- **选项数量**：3-4个选项
- **短句数量**：每选项2-5个短句
- **考察范围**：指定库/集/文章
- **优先字符**：优先考察指定字符

#### 5.4 智能推荐
- **数据分析**：分析义项库数据
- **题型推荐**：根据数据推荐合适题型
- **质量诊断**：诊断义项库质量问题

#### 5.5 导出功能
- **教师版**：包含答案和详细解析
- **学生版**：只有题目，不含答案
- **批量导出**：同时导出两个版本

### 6. 🔍 搜索功能

#### 6.1 全局搜索
- **多维度搜索**：搜索句子、义项、短句
- **实时过滤**：输入即搜索
- **高亮显示**：搜索结果高亮

#### 6.2 高级筛选
- **按库筛选**：指定搜索范围
- **按类型筛选**：句子/义项/短句
- **组合筛选**：多条件组合

### 7. ⚙️ 设置功能

#### 7.1 API配置
- **多模型支持**：
  - MiniMax
  - DeepSeek
  - 自定义API
- **并发控制**：设置API并发数
- **超时设置**：配置请求超时时间

#### 7.2 并发设置
- **全局并发**：设置全局最大并发数
- **功能并发**：为不同功能设置独立并发数
- **队列管理**：查看和管理请求队列

#### 7.3 数据管理
- **导出数据**：导出所有数据为JSON
- **导入数据**：从JSON恢复数据
- **清空数据**：清空所有数据（谨慎操作）

## 🚀 快速开始

### 第一步：导入文本
1. 点击"导入"
2. 创建新库和集
3. 粘贴文言文文本
4. 点击"导入"

### 第二步：制作义项
1. 进入"管理" → "义项管理"
2. 点击"AI自动生成义项"
3. 选择范围
4. 等待生成完成

### 第三步：自动出题
1. 进入"自动出题"
2. 配置题目参数
3. 点击"生成题目"
4. 导出Word文档

## 💡 使用技巧

### 提高出题质量
1. **充足的义项**：确保每个字至少有2-3个义项
2. **关联短句**：为义项关联足够的例句
3. **使用诊断**：定期使用诊断工具检查数据质量
4. **合理范围**：选择合适的考察范围

### 优化AI效果
1. **清晰描述**：给AI提供清晰的需求描述
2. **合理并发**：根据API配额设置合理的并发数
3. **分批处理**：大量数据分批处理，避免超时

### 数据管理建议
1. **定期备份**：定期导出数据备份
2. **分类管理**：合理使用库/集/文章层级
3. **标记重点**：标记重点字符便于复习

## ❓ 常见问题

### Q: 为什么生成的题目很少？
A: 可能原因：
- 义项库数据不足
- 选择的范围太小
- 短句数量设置过多
- 建议：使用诊断工具检查，或减少每选项短句数

### Q: AI生成失败怎么办？
A: 检查：
- 网络连接是否正常
- API Key是否有效
- 是否有足够的配额
- 尝试减少并发数

### Q: 如何提高出题效率？
A: 建议：
- 使用AI批量生成义项
- 合理设置并发数
- 使用智能推荐的题型
- 定期维护义项库

### Q: 导出的Word格式不对？
A: 确保：
- 使用最新版本
- 题目已完全生成
- 选择正确的导出版本

## 📞 技术支持

如遇到问题，请查看 `TECHNICAL_GUIDE.md` 技术文档，或提交Issue反馈。

---

**版本**: 1.0.0  
**更新日期**: 2024年
