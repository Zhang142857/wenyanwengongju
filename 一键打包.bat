@echo off
chcp 65001 >nul
cls

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   ğŸ“¦ æ–‡è¨€æ–‡å·¥å…· - ä¸€é”®æ‰“åŒ…å®‰è£…ç¨‹åº
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo æ­£åœ¨éªŒè¯é…ç½®æ–‡ä»¶...
echo.

call npm run verify:config

if errorlevel 1 (
    echo.
    echo âŒ é…ç½®æ–‡ä»¶éªŒè¯å¤±è´¥ï¼
    echo.
    echo è¯·å…ˆåœ¨åº”ç”¨ä¸­å¯¼å‡ºé…ç½®æ–‡ä»¶ï¼š
    echo   1. æ‰“å¼€åº”ç”¨ â†’ è®¾ç½®é¡µé¢
    echo   2. ç‚¹å‡» "ğŸ’¾ å¯¼å‡ºå…¨éƒ¨" æŒ‰é’®
    echo   3. é…ç½®æ–‡ä»¶ä¼šä¿å­˜åˆ° dist ç›®å½•
    echo.
    pause
    exit /b 1
)

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   ğŸš€ å¼€å§‹æ‰“åŒ…
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo æ‰“åŒ…è¿‡ç¨‹çº¦éœ€ 5-10 åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾…...
echo.
echo æ­£åœ¨æ‰§è¡Œï¼šnpm run build:with-config
echo.

call npm run build:with-config

if errorlevel 1 (
    echo.
    echo âŒ æ‰“åŒ…å¤±è´¥ï¼
    echo.
    echo è¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯ï¼Œæˆ–æŸ¥çœ‹æ–‡æ¡£ï¼š
    echo   â€¢ æ‰“åŒ…è¯´æ˜.md
    echo   â€¢ BUILD_WITH_CONFIG_GUIDE.md
    echo.
    pause
    exit /b 1
)

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   ğŸ‰ æ‰“åŒ…å®Œæˆï¼
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo å®‰è£…ç¨‹åºå·²ç”Ÿæˆåˆ° dist ç›®å½•ï¼š
echo.

dir /b dist\*.exe 2>nul

echo.
echo ä½ ç°åœ¨å¯ä»¥ï¼š
echo   1. æµ‹è¯•å®‰è£…ç¨‹åº
echo   2. åˆ†å‘ç»™ç”¨æˆ·
echo   3. ä¸Šä¼ åˆ°äº‘ç›˜
echo.
echo æŒ‰ä»»æ„é”®æ‰“å¼€ dist ç›®å½•...
pause >nul

explorer dist

echo.
echo æ„Ÿè°¢ä½¿ç”¨ï¼
echo.
